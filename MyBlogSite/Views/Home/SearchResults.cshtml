@model MyBlogSite.Models.SearchResultsViewModel

@{
    ViewData["Title"] = "Arama Sonuçları";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="search-results-container">
    <h2>Arama Sonuçları</h2>

    <div class="search-section">
        <h3>Bloglar</h3>
        @if (Model.Blogs != null && Model.Blogs.Any())
        {
            <div class="results-grid">
                @foreach (var blog in Model.Blogs)
                {
                    <div class="result-card" onclick="location.href='@Url.Action("Detail", "Blog", new { id = blog.Id })'">
                        <h4>@blog.Title</h4>
                        @if (!string.IsNullOrEmpty(blog.ImageUrl))
                        {
                            <img src="@blog.ImageUrl" alt="@blog.Title" class="blog-image" />
                        }
                        <p>@(blog.Content.Length > 100 ? blog.Content.Substring(0, 100) + "..." : blog.Content)</p>
                        <div class="meta">
                            <span>@blog.User?.Username</span>
                            <span>@blog.CreatedAt.ToShortDateString()</span>
                        </div>
                    </div>
                }
            </div>
        }
        else
        {
            <p>Aradığınız kritere uygun blog bulunamadı.</p>
        }

        <h3>Kullanıcılar</h3>
        @if (Model.Users != null && Model.Users.Any())
        {
            <div class="user-results">
                @foreach (var user in Model.Users)
                {
                    var imagePath = string.IsNullOrEmpty(user.ProfileImagePath)
                    ? Url.Content("~/img/user/user-1.png")
                    : Url.Content(user.ProfileImagePath);

                    <a href="@Url.Action("Index", "UserProfile", new { id = user.Id })" class="user-card">
                        <img src="@imagePath" alt="@user.Username" class="user-img" />
                        <span>@user.Username</span>
                    </a>
                }
            </div>
        }
        else
        {
            <p>Aradığınız kritere uygun kullanıcı bulunamadı.</p>
        }
    </div>
</div>